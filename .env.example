# ============================================
# RTFT (Real-Time File Transfer) Production Configuration
# ============================================
# Copy this file to .env and configure for your environment

# --------------------------------------------
# Server Configuration
# --------------------------------------------

# Server URL:
SERVER_URL=https://qs2v6n76-8080.inc1.devtunnels.ms/

# Server port for HTTP/HTTPS
PORT=3000

# Node environment (development, production, staging)
NODE_ENV=production

# Server host/domain
HOST=0.0.0.0

# Base URL for the application
BASE_URL=https://yourdomain.com

# --------------------------------------------
# WebSocket Configuration
# --------------------------------------------

# WebSocket Secure URL for signaling server
WSS_URL=wss://yourdomain.com

# WebSocket port (if different from main server)
WSS_PORT=3000

# WebSocket heartbeat interval (milliseconds)
WSS_HEARTBEAT_INTERVAL=30000

# Max WebSocket connections per IP
WSS_MAX_CONNECTIONS_PER_IP=10

# --------------------------------------------
# WebRTC TURN/STUN Configuration
# --------------------------------------------

# STUN server URL (Google's public STUN server is shown as example)
STUN_URL=stun:stun.l.google.com:19302

# TURN server URL
TURN_URL=turn:your-turn-server.com:3478

# TURN server username
TURN_USERNAME=your-turn-username

# TURN server credential/password
TURN_CREDENTIAL=your-turn-password

# TURN server protocol (udp, tcp, or both)
TURN_PROTOCOL=udp

# Additional TURN server (optional, for redundancy)
# TURN_URL_SECONDARY=turn:backup-turn-server.com:3478
# TURN_USERNAME_SECONDARY=backup-username
# TURN_CREDENTIAL_SECONDARY=backup-password

# --------------------------------------------
# Security & Authentication
# --------------------------------------------

# JWT secret key for token generation (required if using authentication)
# JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Session secret for express-session
# SESSION_SECRET=your-session-secret-change-this

# CORS allowed origins (comma-separated)
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Enable/disable HTTPS
ENABLE_HTTPS=true

# SSL Certificate paths (required if ENABLE_HTTPS=true)
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# --------------------------------------------
# Rate Limiting Configuration
# --------------------------------------------

# Enable rate limiting
RATE_LIMIT_ENABLED=true

# Max requests per window per IP
RATE_LIMIT_MAX_REQUESTS=100

# Time window in milliseconds (15 minutes = 900000ms)
RATE_LIMIT_WINDOW_MS=900000

# Rate limit message
RATE_LIMIT_MESSAGE=Too many requests, please try again later

# WebSocket message rate limit (messages per second)
WSS_MESSAGE_RATE_LIMIT=50

# --------------------------------------------
# Logging Configuration
# --------------------------------------------

# Log level (error, warn, info, debug, verbose)
LOG_LEVEL=info

# Log format (json, simple, combined)
LOG_FORMAT=json

# Enable file logging
LOG_TO_FILE=true

# Log file path
LOG_FILE_PATH=./logs/rtft.log

# Max log file size (in bytes, 10MB default)
LOG_MAX_FILE_SIZE=10485760

# Max number of log files to keep
LOG_MAX_FILES=5

# Enable console logging
LOG_TO_CONSOLE=true

# --------------------------------------------
# File Transfer Limits
# --------------------------------------------

# Maximum file size in bytes (100MB default)
MAX_FILE_SIZE=104857600

# Maximum chunk size for transfer (in bytes, 64KB default)
MAX_CHUNK_SIZE=65536

# Transfer timeout in milliseconds (5 minutes)
TRANSFER_TIMEOUT=300000

# Maximum concurrent transfers per peer
MAX_CONCURRENT_TRANSFERS=5

# --------------------------------------------
# Performance & Optimization
# --------------------------------------------

# Enable compression
ENABLE_COMPRESSION=true

# Compression level (0-9, higher = more compression)
COMPRESSION_LEVEL=6

# Enable caching
ENABLE_CACHE=true

# Cache duration in seconds
CACHE_DURATION=3600

# Worker threads (for CPU-intensive tasks)
WORKER_THREADS=4

# --------------------------------------------
# Monitoring & Health Checks
# --------------------------------------------

# Enable health check endpoint
ENABLE_HEALTH_CHECK=true

# Health check endpoint path
HEALTH_CHECK_PATH=/health

# Enable metrics collection
ENABLE_METRICS=true

# Metrics endpoint path
METRICS_PATH=/metrics

# --------------------------------------------
# Optional: Database Configuration
# --------------------------------------------
# (Uncomment if using database for session/metadata storage)

# Database type (postgres, mysql, mongodb, sqlite)
# DB_TYPE=postgres

# Database host
# DB_HOST=localhost

# Database port
# DB_PORT=5432

# Database name
# DB_NAME=rtft

# Database username
# DB_USER=rtft_user

# Database password
# DB_PASSWORD=your-db-password

# Database connection pool size
# DB_POOL_SIZE=10

# --------------------------------------------
# Optional: Redis Configuration
# --------------------------------------------
# (Uncomment if using Redis for session/caching)

# Redis host
# REDIS_HOST=localhost

# Redis port
# REDIS_PORT=6379

# Redis password
# REDIS_PASSWORD=your-redis-password

# Redis database number
# REDIS_DB=0

# --------------------------------------------
# Development/Debug Options
# --------------------------------------------

# Enable debug mode (verbose logging, detailed errors)
DEBUG=false

# Enable source maps in production
ENABLE_SOURCE_MAPS=false

# Enable profiling
ENABLE_PROFILING=false
